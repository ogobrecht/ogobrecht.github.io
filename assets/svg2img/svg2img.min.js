/*! https://github.com/ogobrecht/jquery-plugin-svg2img v1.0.0 MIT license */
!function(a){a.fn.svg2img=function(b){var c=a.extend({},a.fn.svg2img.defaults,b),d=a("body"),e=!1,f=[],g={};g.start=(new Date).getTime();var h=function(a){c.debug&&console.log("svg2img: "+a)},i=function(a){console.warn("svg2img: "+a)},j=function(b){var c=[],d=(b.ownerDocument||document).styleSheets;return a(d).each(function(d,e){a(e.cssRules).each(function(d,e){var f=!1;try{f=a(b).find(e.selectorText).length>0}catch(a){i("Unable to check if CSS selector is used: "+e.selectorText)}f&&c.push(e.cssText)})}),c},k=function(){var a=new Date,b=function(a){var b=Math.abs(Math.floor(a));return(b<10?"0":"")+b};return a.getFullYear()+b(a.getMonth()+1)+b(a.getDate())+"-"+b(a.getHours())+b(a.getMinutes())+b(a.getSeconds())},l=function(b,c){a(c.split(",")).each(function(a,c){["svg","png","gif","jpg","jpeg","bmp"].indexOf(c)<0?i('invalid image format "'+c+'" - possible formats are svg, png, gif, jpeg, bmp'):m(b,c)})},m=function(b,l){if(e)f.push({element:b,format:l}),c.debug&&h("export already running - queue additional "+l+" export");else{var n,o,p,q,r,s,t,u,v,w;e=!0,c.debug&&(g.startExport=(new Date).getTime(),h("1 - start "+("svg"!==l?l+" (canvas)":l)+" export")),d.append('<div id="tempSvgContainerForExport" style="display:none;"></div>'),p=a("#tempSvgContainerForExport"),n=a(b),n.clone(!1).appendTo(p),c.debug&&(g.endClone=(new Date).getTime(),h("2 - clone of original SVG done ("+(g.endClone-g.startExport)+"ms)")),o=p.find("svg"),o.prepend('<style type="text/css">'+j(n.parent()[0]).join(" ")+"</style>").attr("xmlns","http://www.w3.org/2000/svg").attr("version","1.1").attr("xmlns:xlink","http://www.w3.org/1999/xlink").css("border","none"),r=(n.attr("id")||n.parent().attr("id")||"export")+"-"+k()+"."+l,c.debug&&(g.endStylesAttributes=(new Date).getTime(),h("3 - collect styles and modify attributes done ("+(g.endStylesAttributes-g.endClone)+"ms)")),"svg"===l?(q=new Blob([p.html()],{type:"image/svg+xml;charset=utf-8"}),saveAs(q,r),p.remove(),e=!1,c.debug&&(g.endSvgExport=(new Date).getTime(),h("4 - save to blob done ("+(g.endSvgExport-g.endStylesAttributes)+"ms)"),h("5 - runtime for file "+r+": "+(g.endSvgExport-g.startExport)+"ms")),f.length>0&&(w=f.shift(),m(w.element,w.format))):["png","gif","jpg","jpeg","bmp"].indexOf(l)>-1&&(d.append('<canvas id="tempCanvasForExport" style="display:none;"></canvas>'),s=a("#tempCanvasForExport").attr("height",n.attr("height")||parseFloat(n.css("height"))).attr("width",n.attr("width")||parseFloat(n.css("width"))),t=s[0].getContext("2d"),c.debug&&(g.endCanvasInit=(new Date).getTime(),h("4 - canvas init done ("+(g.endCanvasInit-g.endStylesAttributes)+"ms)")),v="data:image/svg+xml;base64,"+window.btoa(p.html()),c.debug&&(g.endCreateDataUri=(new Date).getTime(),h("5 - create data URI done ("+(g.endCreateDataUri-g.endCanvasInit)+"ms)")),u=new Image,u.src=v,"jpg"===l&&(l="jpeg",i("wrong mime type jpg - normalized to jpeg")),"jpeg"===l&&(c.jpegQuality<0||c.jpegQuality>1)&&(c.jpegQuality=1,i("invalid value for jpegQuality - must be between 0 and 1 (1=100%)")),u.onload=function(){c.debug&&(g.endLoadImage=(new Date).getTime(),h("6 - load image (data URI) done ("+(g.endLoadImage-g.endCreateDataUri)+"ms)")),t.drawImage(u,0,0),c.debug&&(g.endDrawImage=(new Date).getTime(),h("7 - draw image on canvas done ("+(g.endDrawImage-g.endLoadImage)+"ms)")),s[0].toBlob(function(a){saveAs(a,r)},"image/"+l,c.jpegQuality),p.remove(),s.remove(),e=!1,c.debug&&(g.endCanvasExport=(new Date).getTime(),h("8 - save to blob done ("+(g.endCanvasExport-g.endDrawImage)+"ms)"),h("9 - runtime for file "+r+": "+(g.endCanvasExport-g.startExport)+"ms")),f.length>0&&(w=f.shift(),m(w.element,w.format))})}};return this.each(function(b,d){"svg"===d.tagName?l(d,c.format):a(d).find("svg").each(function(a,b){l(b,c.format)})}),this},a.fn.svg2img.defaults={format:"svg",jpegQuality:1,debug:!1}}(jQuery),/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */
function(a){"use strict";if(a.URL=a.URL||a.webkitURL,a.Blob&&a.URL)try{return void new Blob}catch(a){}var b=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||function(a){var b=function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1]},c=function(){this.data=[]},d=function(a,b,c){this.data=a,this.size=a.length,this.type=b,this.encoding=c},e=c.prototype,f=d.prototype,g=a.FileReaderSync,h=function(a){this.code=this[this.name=a]},i="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),j=i.length,k=a.URL||a.webkitURL||a,l=k.createObjectURL,m=k.revokeObjectURL,n=k,o=a.btoa,p=a.atob,q=a.ArrayBuffer,r=a.Uint8Array;for(d.fake=f.fake=!0;j--;)h.prototype[i[j]]=j+1;return k.createObjectURL||(n=a.URL=function(a){var b,c=document.createElementNS("http://www.w3.org/1999/xhtml","a");return c.href=a,"origin"in c||("data:"===c.protocol.toLowerCase()?c.origin=null:(b=a.match(/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/),c.origin=b&&b[1])),c}),n.createObjectURL=function(a){var b,c=a.type;return null===c&&(c="application/octet-stream"),a instanceof d?(b="data:"+c,"base64"===a.encoding?b+";base64,"+a.data:"URI"===a.encoding?b+","+decodeURIComponent(a.data):o?b+";base64,"+o(a.data):b+","+encodeURIComponent(a.data)):l?l.call(k,a):void 0},n.revokeObjectURL=function(a){"data:"!==a.substring(0,5)&&m&&m.call(k,a)},e.append=function(a){var c=this.data;if(r&&(a instanceof q||a instanceof r)){for(var e="",f=new r(a),i=0,j=f.length;i<j;i++)e+=String.fromCharCode(f[i]);c.push(e)}else if("Blob"===b(a)||"File"===b(a)){if(!g)throw new h("NOT_READABLE_ERR");var k=new g;c.push(k.readAsBinaryString(a))}else a instanceof d?"base64"===a.encoding&&p?c.push(p(a.data)):"URI"===a.encoding?c.push(decodeURIComponent(a.data)):"raw"===a.encoding&&c.push(a.data):("string"!=typeof a&&(a+=""),c.push(unescape(encodeURIComponent(a))))},e.getBlob=function(a){return arguments.length||(a=null),new d(this.data.join(""),a,"raw")},e.toString=function(){return"[object BlobBuilder]"},f.slice=function(a,b,c){var e=arguments.length;return e<3&&(c=null),new d(this.data.slice(a,e>1?b:this.data.length),c,this.encoding)},f.toString=function(){return"[object Blob]"},f.close=function(){this.size=0,delete this.data},c}(a);a.Blob=function(a,c){var d=c?c.type||"":"",e=new b;if(a)for(var f=0,g=a.length;f<g;f++)Uint8Array&&a[f]instanceof Uint8Array?e.append(a[f].buffer):e.append(a[f]);var h=e.getBlob(d);return!h.slice&&h.webkitSlice&&(h.slice=h.webkitSlice),h};var c=Object.getPrototypeOf||function(a){return a.__proto__};a.Blob.prototype=c(new a.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this),/*! @source http://purl.eligrey.com/github/canvas-toBlob.js/blob/master/canvas-toBlob.js */
function(a){"use strict";var b,c=a.Uint8Array,d=a.HTMLCanvasElement,e=d&&d.prototype,f=/\s*;\s*base64\s*(?:;|$)/i,g="toDataURL",h=function(a){for(var d,e,f=a.length,g=new c(f/4*3|0),h=0,i=0,j=[0,0],k=0,l=0;f--;)e=a.charCodeAt(h++),255!==(d=b[e-43])&&void 0!==d&&(j[1]=j[0],j[0]=e,l=l<<6|d,4===++k&&(g[i++]=l>>>16,61!==j[1]&&(g[i++]=l>>>8),61!==j[0]&&(g[i++]=l),k=0));return g};c&&(b=new c([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),!d||e.toBlob&&e.toBlobHD||(e.toBlob||(e.toBlob=function(a,b){if(b||(b="image/png"),this.mozGetAsFile)return void a(this.mozGetAsFile("canvas",b));if(this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(b))return void a(this.msToBlob());var d,e=Array.prototype.slice.call(arguments,1),i=this[g].apply(this,e),j=i.indexOf(","),k=i.substring(j+1),l=f.test(i.substring(0,j));Blob.fake?(d=new Blob,d.encoding=l?"base64":"URI",d.data=k,d.size=k.length):c&&(d=l?new Blob([h(k)],{type:b}):new Blob([decodeURIComponent(k)],{type:b})),a(d)}),!e.toBlobHD&&e.toDataURLHD?e.toBlobHD=function(){g="toDataURLHD";var a=this.toBlob();return g="toDataURL",a}:e.toBlobHD=e.toBlob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||function(a){"use strict";if(!(void 0===a||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var b=a.document,c=function(){return a.URL||a.webkitURL||a},d=b.createElementNS("http://www.w3.org/1999/xhtml","a"),e="download"in d,f=function(a){var b=new MouseEvent("click");a.dispatchEvent(b)},g=/constructor/i.test(a.HTMLElement)||a.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent),i=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},j=function(a){var b=function(){"string"==typeof a?c().revokeObjectURL(a):a.remove()};setTimeout(b,4e4)},k=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(a){i(a)}}},l=function(a){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a},m=function(b,i,m){m||(b=l(b));var n,o=this,p=b.type,q="application/octet-stream"===p,r=function(){k(o,"writestart progress write writeend".split(" "))};if(o.readyState=o.INIT,e)return n=c().createObjectURL(b),void setTimeout(function(){d.href=n,d.download=i,f(d),r(),j(n),o.readyState=o.DONE});!function(){if((h||q&&g)&&a.FileReader){var d=new FileReader;return d.onloadend=function(){var b=h?d.result:d.result.replace(/^data:[^;]*;/,"data:attachment/file;");a.open(b,"_blank")||(a.location.href=b),b=void 0,o.readyState=o.DONE,r()},d.readAsDataURL(b),void(o.readyState=o.INIT)}if(n||(n=c().createObjectURL(b)),q)a.location.href=n;else{a.open(n,"_blank")||(a.location.href=n)}o.readyState=o.DONE,r(),j(n)}()},n=m.prototype,o=function(a,b,c){return new m(a,b||a.name||"download",c)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(a,b,c){return b=b||a.name||"download",c||(a=l(a)),navigator.msSaveOrOpenBlob(a,b)}:(n.abort=function(){},n.readyState=n.INIT=0,n.WRITING=1,n.DONE=2,n.error=n.onwritestart=n.onprogress=n.onwrite=n.onabort=n.onerror=n.onwriteend=null,o)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs});